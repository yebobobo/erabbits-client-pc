"use strict";(self["webpackChunkerabbit_client_pc"]=self["webpackChunkerabbit_client_pc"]||[]).push([[688],{720:function(e,a,o){o.r(a),o.d(a,{default:function(){return Ae}});var s=o(3396),c=o(7139),i=o(3947);const l=e=>((0,s.dD)("data-v-db876278"),e=e(),(0,s.Cn)(),e),n={class:"login-main"},r={class:"box"},t=(0,s.Uk)("表单"),d={key:1,class:"qrcode-box"},u=l((()=>(0,s._)("img",{src:i},null,-1))),m=l((()=>(0,s._)("p",null,[(0,s.Uk)("打开 "),(0,s._)("a",{href:"javascript:;"},"小兔鲜儿App"),(0,s.Uk)(" 扫码登录")],-1))),p=[u,m];function f(e,a,o,i,l,u){const m=(0,s.up)("login-header"),f=(0,s.up)("login-form"),v=(0,s.up)("login-footer");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(m),(0,s._)("div",n,[(0,s._)("div",r,[(0,s._)("nav",null,[(0,s._)("a",{href:"javascript:;",onClick:a[0]||(a[0]=e=>i.activeName="account"),class:(0,c.C_)({active:"account"===i.activeName})},"账户登录",2),(0,s._)("a",{href:"javascript:;",onClick:a[1]||(a[1]=e=>i.activeName="qrcode"),class:(0,c.C_)({active:"qrcode"===i.activeName})},"扫码登录",2)]),"account"===i.activeName?((0,s.wg)(),(0,s.j4)(f,{key:0},{default:(0,s.w5)((()=>[t])),_:1})):(0,s.kq)("",!0),"qrcode"===i.activeName?((0,s.wg)(),(0,s.iD)("div",d,p)):(0,s.kq)("",!0)])]),(0,s.Wm)(v)],64)}const v=e=>((0,s.dD)("data-v-6f5c273a"),e=e(),(0,s.Cn)(),e),g={class:"login-header wrapper"},_=v((()=>(0,s._)("h1",{class:"logo"},"小兔鲜儿",-1))),w=(0,s.Uk)(" 进入网站首页 "),k=v((()=>(0,s._)("i",{class:"iconfont icon-angleright"},null,-1))),h=v((()=>(0,s._)("i",{class:"iconfont icon-angleright"},null,-1)));function b(e,a,o,c,i,l){const n=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",g,[_,(0,s.Wm)(n,{to:"/"},{default:(0,s.w5)((()=>[w,k,h])),_:1})])}var y={name:"LoginHeader"},C=o(89);const j=(0,C.Z)(y,[["render",b],["__scopeId","data-v-6f5c273a"]]);var U=j;const q=e=>((0,s.dD)("data-v-4216265d"),e=e(),(0,s.Cn)(),e),V={class:"login-form"},A={class:"toggle"},D={class:"form-item"},F={class:"input"},x=q((()=>(0,s._)("i",{class:"iconfont icon-jurassic_user"},null,-1))),L={key:0,class:"error"},z=q((()=>(0,s._)("i",{class:"iconfont icon-warning"},null,-1))),W={class:"form-item"},Z={class:"input"},H=q((()=>(0,s._)("i",{class:"iconfont icon-jiesuo"},null,-1))),N={key:0,class:"error"},M=q((()=>(0,s._)("i",{class:"iconfont icon-warning"},null,-1))),E={class:"form-item"},I={class:"input"},R=q((()=>(0,s._)("i",{class:"iconfont icon-phone"},null,-1))),Y={key:0,class:"error"},X=q((()=>(0,s._)("i",{class:"iconfont icon-warning"},null,-1))),P={class:"form-item"},$={class:"input"},B=q((()=>(0,s._)("i",{class:"iconfont icon-xiaoxi"},null,-1))),G={key:0,class:"error"},J=q((()=>(0,s._)("i",{class:"iconfont icon-warning"},null,-1))),K={class:"form-item"},O={class:"agree"},Q=q((()=>(0,s._)("span",null,"我已同意",-1))),S=q((()=>(0,s._)("a",{href:"javascript:;"},"《隐私条款》",-1))),T=q((()=>(0,s._)("span",null,"和",-1))),ee=q((()=>(0,s._)("a",{href:"javascript:;"},"《服务条款》",-1))),ae={key:0,class:"error"},oe=q((()=>(0,s._)("i",{class:"iconfont icon-warning"},null,-1))),se={class:"action"},ce=q((()=>(0,s._)("a",{href:"javascript:;"},"忘记密码？",-1))),ie=q((()=>(0,s._)("a",{href:"https://graph.qq.com/oauth2.0/authorize?client_id=100556005&response_type=token&scope=all&redirect_uri=http%3A%2F%2Fwww.corho.com%3A8080%2F%23%2Flogin%2Fcallback"},[(0,s._)("img",{src:"https://qzonestyle.gtimg.cn/qzone/vas/opensns/res/img/Connect_logo_7.png",alt:""})],-1))),le=(0,s.Uk)("免费注册");function ne(e,a,o,i,l,n){const r=(0,s.up)("Field"),t=(0,s.up)("xtx-checkbox"),d=(0,s.up)("Form"),u=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",V,[(0,s._)("div",A,[i.isMsgLogin?((0,s.wg)(),(0,s.iD)("a",{key:0,href:"javascript:;",onClick:a[0]||(a[0]=e=>i.isMsgLogin=!1)},"密码登录")):((0,s.wg)(),(0,s.iD)("a",{key:1,href:"javascript:;",onClick:a[1]||(a[1]=e=>i.isMsgLogin=!0)},"手机验证码登录"))]),(0,s.Wm)(d,{"validation-schema":i.schema,ref:"formCom",autocomplete:"off",class:"form"},{default:(0,s.w5)((({errors:e})=>[i.isMsgLogin?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s._)("div",E,[(0,s._)("div",I,[R,(0,s.Wm)(r,{modelValue:i.form.mobile,"onUpdate:modelValue":a[4]||(a[4]=e=>i.form.mobile=e),name:"mobile",type:"text",placeholder:"请输入手机号",class:(0,c.C_)({error:e.mobile})},null,8,["modelValue","class"])]),e.mobile?((0,s.wg)(),(0,s.iD)("div",Y,[X,(0,s.Uk)(" "+(0,c.zw)(e.mobile),1)])):(0,s.kq)("",!0)]),(0,s._)("div",P,[(0,s._)("div",$,[B,(0,s.Wm)(r,{modelValue:i.form.code,"onUpdate:modelValue":a[5]||(a[5]=e=>i.form.code=e),name:"code",type:"text",placeholder:"请输入验证码",class:(0,c.C_)({error:e.code})},null,8,["modelValue","class"]),(0,s._)("span",{class:"code",onClick:a[6]||(a[6]=e=>i.send())},(0,c.zw)(0===i.time?"发送验证码":`${i.time}秒后发送`),1)]),e.code?((0,s.wg)(),(0,s.iD)("div",G,[J,(0,s.Uk)(" "+(0,c.zw)(e.code),1)])):(0,s.kq)("",!0)])],64)):((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",D,[(0,s._)("div",F,[x,(0,s.Wm)(r,{modelValue:i.form.account,"onUpdate:modelValue":a[2]||(a[2]=e=>i.form.account=e),name:"account",type:"text",placeholder:"请输入用户名",class:(0,c.C_)({error:e.account})},null,8,["modelValue","class"])]),e.account?((0,s.wg)(),(0,s.iD)("div",L,[z,(0,s.Uk)(" "+(0,c.zw)(e.account),1)])):(0,s.kq)("",!0)]),(0,s._)("div",W,[(0,s._)("div",Z,[H,(0,s.Wm)(r,{modelValue:i.form.password,"onUpdate:modelValue":a[3]||(a[3]=e=>i.form.password=e),name:"password",type:"password",placeholder:"请输入密码",class:(0,c.C_)({error:e.password})},null,8,["modelValue","class"])]),e.password?((0,s.wg)(),(0,s.iD)("div",N,[M,(0,s.Uk)(" "+(0,c.zw)(e.password),1)])):(0,s.kq)("",!0)])],64)),(0,s._)("div",K,[(0,s._)("div",O,[(0,s.Wm)(t,{modelValue:i.form.isAgree,"onUpdate:modelValue":a[7]||(a[7]=e=>i.form.isAgree=e)},null,8,["modelValue"]),(0,s.Wm)(r,{as:"XtxCheckbox",name:"isAgree",modelValue:i.form.isAgree,"onUpdate:modelValue":a[8]||(a[8]=e=>i.form.isAgree=e),class:(0,c.C_)({error:e.isAgree})},{default:(0,s.w5)((()=>[Q,S,T,ee])),_:2},1032,["modelValue","class"])]),e.isAgree?((0,s.wg)(),(0,s.iD)("div",ae,[oe,(0,s.Uk)(" "+(0,c.zw)(e.isAgree),1)])):(0,s.kq)("",!0)]),(0,s._)("a",{href:"javascript:;",class:"btn",onClick:a[9]||(a[9]=e=>i.login())},"登录")])),_:1},8,["validation-schema"]),(0,s._)("div",se,[ce,ie,(0,s.Wm)(u,{to:"/register"},{default:(0,s.w5)((()=>[le])),_:1})])])}var re=o(4870),te=o(5708),de=o(2635),ue=o(2683),me=o(5823),pe=(o(7030),o(65)),fe=o(9332),ve={name:"LoginForm",components:{Form:te.l0,Field:te.gN},setup(){const e=(0,re.iH)(!1),a=(0,re.qj)({account:null,password:null,mobile:null,code:null,isAgree:!0}),o={account:de.Z.account,password:de.Z.password,mobile:de.Z.mobile,code:de.Z.code,isAgree:de.Z.isAgree},c=(0,re.iH)(null);(0,s.YP)(e,(()=>{a.account=null,a.password=null,a.mobile=null,a.code=null,a.isAgree=!0,c.value.resetForm()}));const i=(0,pe.oR)(),l=async()=>{const o=await c.value.validate();if(o)try{let o=null;if(e.value){const{mobile:e,code:s}=a;o=await(0,ue.EE)({mobile:e,code:s})}else{const{account:e,password:s}=a;o=await(0,ue.Ak)({account:e,password:s})}const{id:s,account:c,avatar:l,mobile:n,nickname:r,token:t}=o.result;i.commit("user/setUser",{id:s,account:c,avatar:l,mobile:n,nickname:r,token:t})}catch(s){s.response.data&&(0,me.z8)({message:s.response.data.message||"登录失败",type:"error"})}},n=(0,re.iH)(0),{pause:r,resume:t}=(0,fe.Zv)((()=>{n.value--,n.value<=0&&r()}),1e3,{immediate:!1});(0,s.Ah)((()=>{r()}));const d=async()=>{const e=o.mobile(a.mobile);!0===e?0===n.value&&(await(0,ue.MM)(a.mobile),(0,me.z8)({message:"发送成功",type:"success"}),n.value=60,t()):c.value.setFieldError("mobile",e)};return{isMsgLogin:e,form:a,schema:o,formCom:c,login:l,time:n,send:d}}};const ge=(0,C.Z)(ve,[["render",ne],["__scopeId","data-v-4216265d"]]);var _e=ge;const we={class:"login-footer"},ke=(0,s.uE)('<p data-v-11fcbee4><a href="javascript:;" data-v-11fcbee4>关于我们</a><a href="javascript:;" data-v-11fcbee4>帮助中心</a><a href="javascript:;" data-v-11fcbee4>售后服务</a><a href="javascript:;" data-v-11fcbee4>配送与验收</a><a href="javascript:;" data-v-11fcbee4>商务合作</a><a href="javascript:;" data-v-11fcbee4>搜索推荐</a><a href="javascript:;" data-v-11fcbee4>友情链接</a></p><p data-v-11fcbee4>CopyRight © 小兔鲜儿</p>',2),he=[ke];function be(e,a,o,c,i,l){return(0,s.wg)(),(0,s.iD)("div",we,he)}var ye={name:"LoginFooter"};const Ce=(0,C.Z)(ye,[["render",be],["__scopeId","data-v-11fcbee4"]]);var je=Ce,Ue=o(678),qe={name:"XtxLogin",components:{LoginHeader:U,LoginForm:_e,LoginFooter:je},setup(){const e=(0,re.iH)("account"),a=(0,pe.oR)(),o=(0,Ue.yj)();return a.commit("user/setRedirectUrl",o.query.redirectUrl||"/"),{activeName:e}}};const Ve=(0,C.Z)(qe,[["render",f],["__scopeId","data-v-db876278"]]);var Ae=Ve},3947:function(e,a,o){e.exports=o.p+"img/qrcode.f8ff6896.jpg"}}]);
//# sourceMappingURL=688.78c83801.js.map