{"version":3,"file":"js/794.74595cc2.js","mappings":"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","sources":["webpack://erabbit-client-pc/./src/api/home.js","webpack://erabbit-client-pc/./src/views/Category/Category.vue","webpack://erabbit-client-pc/./src/views/Category/Category.vue?1697","webpack://erabbit-client-pc/./src/views/Category/components/GoodsItem.vue","webpack://erabbit-client-pc/./src/views/Category/components/GoodsItem.vue?fa5c"],"sourcesContent":["// 提供首页相关API函数\r\nimport request from '@/utils/request.js'\r\n\r\n/**\r\n * 获取品牌\r\n * @param {Integer} limit - 品牌个数\r\n * @return Promise\r\n*/\r\nexport const findBrand = (limit = 6) => {\r\n  return request('/home/brand', 'get', { limit })\r\n}\r\n\r\n/**\r\n * 获取广告区轮播图\r\n * @return Promise\r\n*/\r\nexport const findBanner = () => {\r\n  return request('/home/banner', 'get')\r\n}\r\n\r\n/**\r\n * 获取新鲜好物\r\n * @return Promise\r\n*/\r\nexport const findNew = () => {\r\n  return request('/home/new', 'get')\r\n}\r\n\r\n/**\r\n * 获取人气推荐\r\n * @return Promise\r\n*/\r\nexport const findHot = () => {\r\n  return request('/home/hot', 'get')\r\n}\r\n\r\n/**\r\n * 获取商品板块\r\n * @return Promise\r\n*/\r\nexport const findGoods = () => {\r\n  return request('/home/goods', 'get')\r\n}\r\n\r\n/**\r\n * 获取最新专题\r\n * @return Promise\r\n*/\r\nexport const findSpecial = () => {\r\n  return request('/home/special', 'get')\r\n}\r\n","<template>\r\n  <div class=\"category\">\r\n    <div class=\"wrapper\">\r\n      <!-- 面包屑 -->\r\n      <xtx-bread>\r\n        <xtx-bread-item to=\"/\">首页</xtx-bread-item>\r\n        <Transition name=\"fade-right\" mode=\"out-in\">\r\n          <xtx-bread-item :key=\"topCategory.id\">{{ topCategory.name }}</xtx-bread-item>\r\n        </Transition>\r\n      </xtx-bread>\r\n      <!-- 轮播图 -->\r\n      <xtx-carousel :sliders=\"sliders\" style=\"height: 500px\"></xtx-carousel>\r\n      <!-- 所有二级分类 -->\r\n      <div class=\"sub-list\">\r\n        <h3>全部分类</h3>\r\n        <ul>\r\n          <li v-for=\"sub in topCategory.children\" :key=\"sub.id\">\r\n            <a href=\"javascript:;\">\r\n              <img :src=\"sub.picture\" alt=\"\">\r\n              <p>{{ sub.name }}</p>\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <!-- 各个分类推荐商品 -->\r\n      <div class=\"ref-goods\" v-for=\"sub in subList\" :key=\"sub.id\">\r\n        <div class=\"head\">\r\n          <h3>- {{ sub.name }} -</h3>\r\n          <p class=\"tag\">温暖柔软，品质之选</p>\r\n          <xtx-more :path=\"`/category/sub/${sub.id}`\"></xtx-more>\r\n        </div>\r\n        <div class=\"body\">\r\n          <goods-item v-for=\"goods in sub.goods\" :key=\"goods.id\" :goods=\"goods\"></goods-item>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, computed, watch } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { useRoute } from 'vue-router'\r\nimport { findBanner } from '@/api/home.js'\r\nimport { findTopCategory } from '@/api/category'\r\nimport GoodsItem from '@/views/Category/components/GoodsItem.vue'\r\nexport default {\r\n  name: 'XtxCategory',\r\n  components: {\r\n    GoodsItem\r\n  },\r\n  setup () {\r\n    // 轮播图\r\n    const sliders = ref([])\r\n    findBanner().then(data => {\r\n      sliders.value = data.result\r\n    })\r\n\r\n    // 面包屑+所有子分类 ====> vuex\r\n    const store = useStore()\r\n    const route = useRoute()\r\n    const topCategory = computed(() => {\r\n      let cate = {}\r\n      // 当前顶级分类 === 根据路由上的ID去vuex中的category模块的list中查找\r\n      const item = store.state.category.list.find(item => {\r\n        return item.id === route.params.id\r\n      })\r\n      // 找到数据赋值\r\n      if (item) cate = item\r\n      return cate\r\n    })\r\n\r\n    // 获取各个子类目下推荐商品\r\n    const subList = ref([])\r\n    const getSubList = () => {\r\n      findTopCategory(route.params.id).then(data => {\r\n        subList.value = data.result.children\r\n      })\r\n    }\r\n    watch(() => route.params.id, (newValue) => {\r\n      if (newValue && `/category/${newValue}` === route.path) getSubList()\r\n    }, { immediate: true })\r\n\r\n    return { sliders, topCategory, subList }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.category {\r\n  background-color: #f5f5f5;\r\n  h3 {\r\n    font-size: 28px;\r\n    color: #666;\r\n    font-weight: 400;\r\n    text-align: center;\r\n    line-height: 100px;\r\n  }\r\n  .sub-list {\r\n    margin-top: 20px;\r\n    background-color: #fff;\r\n    ul {\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      padding: 0 32px;\r\n      min-height: 160px;\r\n      li {\r\n        width: 168px;\r\n        height: 160px;\r\n        a {\r\n          display: block;\r\n          text-align: center;\r\n          font-size: 16px;\r\n          img {\r\n            width: 100px;\r\n            height: 100px;\r\n          }\r\n          p {\r\n            line-height: 40px;\r\n          }\r\n          &:hover {\r\n            color: @xtxColor;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .ref-goods {\r\n    position: relative;\r\n    margin-top: 20px;\r\n    background-color: #fff;\r\n    .head {\r\n      .xtx-more {\r\n        position: absolute;\r\n        top: 20px;\r\n        right: 20px;\r\n      }\r\n      .tag {\r\n        position: relative;\r\n        top: -20px;\r\n        color: #999;\r\n        text-align: center;\r\n        font-size: 20px;\r\n      }\r\n    }\r\n    .body {\r\n      display: flex;\r\n      justify-content: flex-start;\r\n      flex-wrap: wrap;\r\n      padding: 0 65px 30px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Category.vue?vue&type=template&id=eb2ac330&scoped=true\"\nimport script from \"./Category.vue?vue&type=script&lang=js\"\nexport * from \"./Category.vue?vue&type=script&lang=js\"\n\nimport \"./Category.vue?vue&type=style&index=0&id=eb2ac330&lang=less&scoped=true\"\n\nimport exportComponent from \"E:\\\\工作\\\\项目\\\\小兔鲜儿\\\\erabbits-client-pc\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-eb2ac330\"]])\n\nexport default __exports__","<template>\r\n  <router-link :to=\"`/product/${goods.id}`\" class=\"goods-item\">\r\n    <img :src=\"goods.picture\" alt=\"\">\r\n    <p class=\"name ellipsis\">{{ goods.name }}</p>\r\n    <p class=\"desc ellipsis\">{{ goods.desc }}</p>\r\n    <p class=\"price\">￥{{ goods.price }}</p>\r\n  </router-link>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'GoodsItem',\r\n  props: {\r\n    goods: {\r\n      type: Object,\r\n      default: () => ({})\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .goods-item {\r\n    display: block;\r\n    width: 220px;\r\n    padding: 20px 30px;\r\n    text-align: center;\r\n    // .hoverShadow();\r\n    img {\r\n      width: 160px;\r\n      height: 160px;\r\n    }\r\n    p {\r\n      padding-top: 10px;\r\n    }\r\n    .name {\r\n      font-size: 16px;\r\n    }\r\n    .desc {\r\n      height: 29px;\r\n      color: #999;\r\n    }\r\n    .price {\r\n      color: @priceColor;\r\n      font-size: 20px;\r\n    }\r\n  }\r\n</style>\r\n","import { render } from \"./GoodsItem.vue?vue&type=template&id=7a64b468&scoped=true\"\nimport script from \"./GoodsItem.vue?vue&type=script&lang=js\"\nexport * from \"./GoodsItem.vue?vue&type=script&lang=js\"\n\nimport \"./GoodsItem.vue?vue&type=style&index=0&id=7a64b468&lang=less&scoped=true\"\n\nimport exportComponent from \"E:\\\\工作\\\\项目\\\\小兔鲜儿\\\\erabbits-client-pc\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7a64b468\"]])\n\nexport default __exports__"],"names":["findBrand","limit","request","findBanner","findNew","findHot","findGoods","findSpecial","class","_createElementVNode","href","_createElementBlock","_createVNode","_component_xtx_bread","_component_xtx_bread_item","to","_Transition","name","mode","_createBlock","key","$setup","id","_component_xtx_carousel","sliders","style","_hoisted_5","_Fragment","_renderList","children","sub","src","picture","alt","_toDisplayString","_hoisted_9","_component_xtx_more","path","goods","_component_goods_item","components","GoodsItem","setup","ref","then","data","value","result","store","useStore","route","useRoute","topCategory","computed","cate","item","state","category","list","find","params","subList","getSubList","findTopCategory","watch","newValue","immediate","__exports__","render","_component_router_link","$props","desc","price","props","type","Object","default"],"sourceRoot":""}